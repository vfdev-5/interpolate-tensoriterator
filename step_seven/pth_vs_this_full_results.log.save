

-----------------------
--- Benchmark cubic ---
-----------------------

__version__ = '1.9.0a0+git66f07c0'
debug = False
cuda = '11.1'
git_version = '66f07c0c12f13ff094b216fe450e9ba0d9bc3e1e'
hip = None


Torch config: PyTorch built with:
  - GCC 9.3
  - C++ Version: 201402
  - OpenMP 201511 (a.k.a. OpenMP 4.5)
  - CPU capability usage: AVX2
  - Build settings: BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/usr/lib/ccache/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_PYTORCH_QNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=1, USE_CUDNN=1, USE_EIGEN_FOR_BLAS=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=OFF, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=0, USE_OPENMP=ON, 

Num threads: 6


---- Benchmark 2D ----

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_bicubic2d (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 6.18672

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.408931

- Bench upsample_bicubic2d (2000 rounds) - upsampling to 512x512
Elapsed time (ms): 24.0019

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - upsampling to 512x512
Elapsed time (ms): 1.51268

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : false

- Bench upsample_bicubic2d (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 6.22408

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.409628

- Bench upsample_bicubic2d (2000 rounds) - upsampling to 512x512
Elapsed time (ms): 24.0493

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - upsampling to 512x512
Elapsed time (ms): 1.51262

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_bicubic2d (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 6.2507

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.747632

- Bench upsample_bicubic2d (2000 rounds) - upsampling to 512x512
Elapsed time (ms): 24.085

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - upsampling to 512x512
Elapsed time (ms): 2.87648

1 - Test size as in https://github.com/mingfeima/op_bench-py

Input tensor: [32, 128, 64, 64]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_bicubic2d (200 rounds) - upsampling to 128x128
Elapsed time (ms): 7243.47

- Bench ti_upsample_bicubic2d_cpu (200 rounds) - upsampling to 128x128
Elapsed time (ms): 163.982

2 - Test size as in https://github.com/mingfeima/op_bench-py

Input tensor: [32, 128, 64, 64]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_bicubic2d (200 rounds) - upsampling to 128x128
Elapsed time (ms): 7123.39

- Bench ti_upsample_bicubic2d_cpu (200 rounds) - upsampling to 128x128
Elapsed time (ms): 156.758

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_bicubic2d (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 6.21212

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.414717

- Bench upsample_bicubic2d (2000 rounds) - upsampling to 800x800
Elapsed time (ms): 58.0869

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - upsampling to 800x800
Elapsed time (ms): 3.6221

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : false

- Bench upsample_bicubic2d (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 6.32355

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.414114

- Bench upsample_bicubic2d (2000 rounds) - upsampling to 800x800
Elapsed time (ms): 58.3182

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - upsampling to 800x800
Elapsed time (ms): 3.62544

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_bicubic2d (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 6.35041

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.751768

- Bench upsample_bicubic2d (2000 rounds) - upsampling to 800x800
Elapsed time (ms): 58.3097

- Bench ti_upsample_bicubic2d_cpu (2000 rounds) - upsampling to 800x800
Elapsed time (ms): 6.89027

---- END Benchmark 2D ----

------------------------
--- Benchmark linear ---
------------------------

__version__ = '1.9.0a0+git66f07c0'
debug = False
cuda = '11.1'
git_version = '66f07c0c12f13ff094b216fe450e9ba0d9bc3e1e'
hip = None


Torch config: PyTorch built with:
  - GCC 9.3
  - C++ Version: 201402
  - OpenMP 201511 (a.k.a. OpenMP 4.5)
  - CPU capability usage: AVX2
  - Build settings: BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/usr/lib/ccache/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_PYTORCH_QNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=1, USE_CUDNN=1, USE_EIGEN_FOR_BLAS=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=OFF, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=0, USE_OPENMP=ON, 

Num threads: 6


---- Benchmark 2D ----

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0701992

- Bench ti_upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0689041

- Bench upsample_bilinear2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.22812

- Bench ti_upsample_bilinear2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.222603

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0716982

- Bench ti_upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.243545

- Bench upsample_bilinear2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.228471

- Bench ti_upsample_bilinear2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.920502

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : false

- Bench upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0714807

- Bench ti_upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0693175

- Bench upsample_bilinear2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.229039

- Bench ti_upsample_bilinear2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.223102

1 - Test size as in https://github.com/mingfeima/op_bench-py

Input tensor: [32, 128, 64, 64]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_bilinear2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 67.9285

- Bench ti_upsample_bilinear2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 48.5447

2 - Test size as in https://github.com/mingfeima/op_bench-py

Input tensor: [32, 128, 64, 64]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_bilinear2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 51.9211

- Bench ti_upsample_bilinear2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 51.6896

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.071907

- Bench ti_upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0703333

- Bench upsample_bilinear2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 0.53266

- Bench ti_upsample_bilinear2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 0.516399

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0791156

- Bench ti_upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.247254

- Bench upsample_bilinear2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 0.539583

- Bench ti_upsample_bilinear2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 2.29445

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : false

- Bench upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.073583

- Bench ti_upsample_bilinear2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.071031

- Bench upsample_bilinear2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 0.533953

- Bench ti_upsample_bilinear2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 0.51814

---- END Benchmark 2D ----


---- Benchmark 1D ----

Input tensor: [4, 512, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_linear1d (20000 rounds) - downsampling to 256
Elapsed time (ms): 0.10233

- Bench ti_upsample_linear1d (20000 rounds) - downsampling to 256
Elapsed time (ms): 0.099849

- Bench upsample_linear1d (20000 rounds) - upsampling to 512
Elapsed time (ms): 0.190023

- Bench ti_upsample_linear1d (20000 rounds) - upsampling to 512
Elapsed time (ms): 0.184155

---- END Benchmark 1D ----


---- Benchmark 3D ----

Input tensor: [1, 3, 16, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_trilinear3d (2000 rounds) - downsampling to [8, 256, 256]
Elapsed time (ms): 0.992625

- Bench ti_upsample_trilinear3d_cpu (2000 rounds) - downsampling to [8, 256, 256]
Elapsed time (ms): 2.03044

- Bench upsample_trilinear3d (2000 rounds) - upsampling to [32, 512, 512]
Elapsed time (ms): 24.5371

- Bench ti_upsample_trilinear3d_cpu (2000 rounds) - upsampling to [32, 512, 512]
Elapsed time (ms): 41.6863

---- END Benchmark 3D ----

-------------------------
--- Benchmark nearest ---
-------------------------

__version__ = '1.9.0a0+git66f07c0'
debug = False
cuda = '11.1'
git_version = '66f07c0c12f13ff094b216fe450e9ba0d9bc3e1e'
hip = None


Torch config: PyTorch built with:
  - GCC 9.3
  - C++ Version: 201402
  - OpenMP 201511 (a.k.a. OpenMP 4.5)
  - CPU capability usage: AVX2
  - Build settings: BUILD_TYPE=Release, CUDA_VERSION=11.1, CUDNN_VERSION=8.0.5, CXX_COMPILER=/usr/lib/ccache/c++, CXX_FLAGS= -Wno-deprecated -fvisibility-inlines-hidden -DUSE_PTHREADPOOL -fopenmp -DNDEBUG -DUSE_KINETO -DUSE_PYTORCH_QNNPACK -O2 -fPIC -Wno-narrowing -Wall -Wextra -Werror=return-type -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-unused-local-typedefs -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-psabi -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -fdiagnostics-color=always -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -fno-math-errno -fno-trapping-math -Werror=format -Werror=cast-function-type -Wno-stringop-overflow, PERF_WITH_AVX=1, PERF_WITH_AVX2=1, PERF_WITH_AVX512=1, TORCH_VERSION=1.9.0, USE_CUDA=1, USE_CUDNN=1, USE_EIGEN_FOR_BLAS=ON, USE_EXCEPTION_PTR=1, USE_GFLAGS=OFF, USE_GLOG=OFF, USE_MKL=OFF, USE_MKLDNN=OFF, USE_MPI=OFF, USE_NCCL=ON, USE_NNPACK=0, USE_OPENMP=ON, 

Num threads: 6


---- Benchmark 2D ----

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.119971

- Bench ti_upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0410756

- Bench upsample_nearest2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.469504

- Bench ti_upsample_nearest2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.12516

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.227641

- Bench ti_upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.12935

- Bench upsample_nearest2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.856018

- Bench ti_upsample_nearest2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.470748

Input tensor: [1, 3, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : false

- Bench upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.141635

- Bench ti_upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0416906

- Bench upsample_nearest2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.487744

- Bench ti_upsample_nearest2d (20000 rounds) - upsampling to 512x512
Elapsed time (ms): 0.125517

1 - Test size as in https://github.com/mingfeima/op_bench-py

Input tensor: [32, 128, 64, 64]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_nearest2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 166.54

- Bench ti_upsample_nearest2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 32.488

2 - Test size as in https://github.com/mingfeima/op_bench-py

Input tensor: [32, 128, 64, 64]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_nearest2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 50.6269

- Bench ti_upsample_nearest2d (2000 rounds) - upsampling to 128x128
Elapsed time (ms): 43.0594

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.120655

- Bench ti_upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0425167

- Bench upsample_nearest2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 1.13598

- Bench ti_upsample_nearest2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 0.285542

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: true
Input is_contiguous : false

- Bench upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.22634

- Bench ti_upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.130369

- Bench upsample_nearest2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 2.14895

- Bench ti_upsample_nearest2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 1.13716

Input tensor: [1, 3, 500, 500]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : false

- Bench upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.174386

- Bench ti_upsample_nearest2d (20000 rounds) - downsampling to 256x256
Elapsed time (ms): 0.0433273

- Bench upsample_nearest2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 1.22065

- Bench ti_upsample_nearest2d (20000 rounds) - upsampling to 800x800
Elapsed time (ms): 0.285828

---- END Benchmark 2D ----


---- Benchmark 1D ----

Input tensor: [4, 512, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_nearest1d (20000 rounds) - downsampling to 256
Elapsed time (ms): 0.160762

- Bench ti_upsample_nearest1d (20000 rounds) - downsampling to 256
Elapsed time (ms): 0.0828946

- Bench upsample_nearest1d (20000 rounds) - upsampling to 512
Elapsed time (ms): 0.314874

- Bench ti_upsample_nearest1d (20000 rounds) - upsampling to 512
Elapsed time (ms): 0.125416

---- END Benchmark 1D ----


---- Benchmark 3D ----

Input tensor: [1, 3, 16, 320, 320]
Input is_contiguous memory_format torch.channels_last: false
Input is_contiguous : true

- Bench upsample_nearest3d (2000 rounds) - downsampling to [8, 256, 256]
Elapsed time (ms): 1.45614

- Bench ti_upsample_nearest3d_cpu (2000 rounds) - downsampling to [8, 256, 256]
Elapsed time (ms): 0.359086

- Bench upsample_nearest3d (2000 rounds) - upsampling to [32, 512, 512]
Elapsed time (ms): 29.1081

- Bench ti_upsample_nearest3d_cpu (2000 rounds) - upsampling to [32, 512, 512]
Elapsed time (ms): 15.7856

---- END Benchmark 3D ----
